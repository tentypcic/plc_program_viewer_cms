<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PLC programme viewer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="src/favicon.png">
  <link rel="stylesheet" href="src/index-style.css">
</head>
<body>
<header>
  <h1>PLC programme viewer</h1>
  <p>Manage your project list, import/export, and open in the viewer</p>
</header>

<div class="wrap">
  <div class="toolbar">
    <button id="addBtn" class="btn">âž• Add project (.json)</button>
    <button id="openDefaultBtn" class="btn">ðŸ§± Open empty template</button>
    <button id="exportBtn" class="btn">ðŸ’¾ Export projects.json</button>
    <label class="btn" for="importFile">ðŸ“‚ Import projects.json</label>
    <button id="helpBtn" class="btn" aria-expanded="false">ðŸ“˜ Instruction</button>
    <input id="importFile" type="file" accept=".json" />
    <input id="pickJsonFile" type="file" accept=".json" />
  </div>

  <section id="helpPanel" class="help-panel" hidden>
    <div class="lang-switch">
      <button type="button" id="btnPL">PL</button>
      <button type="button" id="btnEN">EN</button>
    </div>

    <!-- Wersja PL -->
    <div class="lang lang-pl">
      <h3>Jak korzystaÄ‡ z listy projektÃ³w</h3>
      <ol>
        <li><strong>âž• Dodaj projekt (.json)</strong> â€“ wczytuje pojedynczy plik JSON projektu.</li>
        <li><strong>ðŸ§± OtwÃ³rz pusty szablon</strong> â€“ uruchamia viewer z domyÅ›lnym projektem.</li>
        <li><strong>ðŸ“‚ Import projects.json</strong> â€“ wczytuje caÅ‚Ä… listÄ™ projektÃ³w.</li>
        <li><strong>ðŸ’¾ Export projects.json</strong> â€“ zapisuje bieÅ¼Ä…cÄ… listÄ™ do pliku.</li>
        <li>Na karcie projektu kliknij <em>Open</em>, aby odczytaÄ‡ lub edytowaÄ‡ w viewerze. Zmiany sÄ… zapisywane lokalnie.</li>
        <li>Menu <strong>â€¢â€¢â€¢</strong> pozwala zmieniÄ‡ nazwÄ™/opis, podmieniÄ‡ plik, duplikowaÄ‡, eksportowaÄ‡ lub usuwaÄ‡.</li>
        <li>Wyszukiwarka filtruje po nazwie, opisie i dacie.</li>
      </ol>
    </div>

    <!-- Wersja EN -->
    <div class="lang lang-en">
      <h3>How to use the project list</h3>
      <ol>
        <li><strong>âž• Add project (.json)</strong> â€“ loads a single JSON project file.</li>
        <li><strong>ðŸ§± Open empty template</strong> â€“ launches the viewer with the default project.</li>
        <li><strong>ðŸ“‚ Import projects.json</strong> â€“ loads the entire list of projects.</li>
        <li><strong>ðŸ’¾ Export projects.json</strong> â€“ saves the current list to a file.</li>
        <li>On the project card, click <em>Open</em> to read or edit in the viewer. Changes are saved locally.</li>
        <li>Menu <strong>â€¢â€¢â€¢</strong> allows you to change the name/description, replace the file, duplicate, export, or delete.</li>
        <li>The search engine filters by name, description, and date.</li>
      </ol>
    </div>
  </section>

  <div class="search">
    <input id="q" placeholder="Search by name/description/date..." />
  </div>

  <div id="grid" class="grid"></div>
  <div id="empty" class="empty" style="display:none">
    No projects. Add new or import file <code>projects.json</code>.
  </div>
</div><!-- /wrap -->

<div id="idxOverlay" style="display:none">
  <div id="idxDialog">
    <h3 id="idxTitle">Enter value</h3>
    <div id="idxErr" class="error-message"></div>
    <div class="form-group">
      <label id="idxLabel" for="idxInput">Value:</label>
      <input id="idxInput" type="text" />
    </div>
    <div class="idx-actions">
      <button class="ok" id="idxOk">OK</button>
      <button class="cancel" id="idxCancel">Cancel</button>
    </div>
  </div>
</div>

<div id="idxConfirmOverlay" style="display:none">
  <div id="idxConfirm">
    <h3 id="idxConfirmTitle">Confirm</h3>
    <div id="idxMsg">Are you sure?</div>
    <div class="idx-actions">
      <button class="ok" id="idxYes">OK</button>
      <button class="cancel" id="idxNo">Cancel</button>
    </div>
  </div>
</div>

<footer><a href="https://github.com/tentypcic" target="_blank">Created by tentypcic Â© 2025</a></footer>

<script src="src/index-app.js"></script>
</body>
</html>
